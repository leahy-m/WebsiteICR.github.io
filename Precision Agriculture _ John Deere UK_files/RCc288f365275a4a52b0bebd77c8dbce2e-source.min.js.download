// For license information, see `https://assets.adobedtm.com/c271735be4ea/63ef94201497/f9de17806f1a/RCc288f365275a4a52b0bebd77c8dbce2e-source.js`.
_satellite.__registerScript('https://assets.adobedtm.com/c271735be4ea/63ef94201497/f9de17806f1a/RCc288f365275a4a52b0bebd77c8dbce2e-source.min.js', "var _sdi=window._sdi=window._sdi||{};_sdi.dtm=_sdi.dtm||{},_sdi.dtm.video=_sdi.dtm.video||{},_sdi.dtm.video.youtube={milestones:[25,50,75,95],dataLayerObj:\"appEventData\",completePercent:99.5,playerName:\"Youtube\",sc:{track:!1,s:function(){return window.s}},timeout:1e3,stages:{},players:{},init:function(){var e=document.getElementsByTagName(\"script\"),i=!1;_sdi.dtm.video.youtube.videos;window[_sdi.dtm.video.youtube.dataLayerObj]=window[_sdi.dtm.video.youtube.dataLayerObj]||[];for(var t=0;t<e.length;t++){(e[t].src||\"\").match(/youtube\\.com\\/iframe_api/)&&(i=!0)}!1===i||_sdi.dtm.video.youtube.ready(\"api\")},sendDLPush:function(e,i){var t=i.info.currentTime;_sdi.dtm.video.youtube.timeing=_sdi.dtm.video.youtube.timeing||[],_sdi.dtm.video.youtube.timeing[i.info.videoData.video_id]=_sdi.dtm.video.youtube.timeing[i.info.videoData.video_id]||{};var o=_sdi.dtm.video.youtube.timeing[i.info.videoData.video_id];if(\"Media Opened\"==e)o.timeSinceLastMilestone=t.toFixed(1),o.timeForMilestone=t,o.timeSinceLastDDLPush=t,o.timeAtLastDDLPush=(new Date).getTime();else if(\"Media Played\"==e)o.timeSinceLastDDLPush=0,o.timeAtLastDDLPush=(new Date).getTime(),o.timeSinceLastMilestone=o.timeForMilestone.toFixed(1);else if(\"Media Stopped\"==e||\"Media Completed\"==e||\"Media Milestone Reached\"==e){var d=((new Date).getTime()-o.timeAtLastDDLPush)/1e3;(d<0||d>1500)&&(d=0),o.timeSinceLastDDLPush=d,o.timeForMilestone+=d,o.timeSinceLastMilestone=o.timeForMilestone.toFixed(1),o.timeAtLastDDLPush=(new Date).getTime(),\"Media Milestone Reached\"==e&&(o.timeForMilestone=0)}window[_sdi.dtm.video.youtube.dataLayerObj].push({event:e,mediaInfo:{mediaID:i.info.videoData.video_id,mediaName:i.info.videoData.title,mediaDuration:i.info.duration,mediaMilestone:i.currentMilestone||\"\",currentTime:i.info.currentTime,playerName:_sdi.dtm.video.youtube.playerName,timeSinceLastMilestone:o.timeSinceLastMilestone,timeSinceLastDDLPush:o.timeSinceLastDDLPush}})},ready:function(e){_sdi.dtm.video.youtube.stages[e]=!0,_sdi.dtm.video.youtube.stages.dom&&_sdi.dtm.video.youtube.stages.api&&_sdi.dtm.video.youtube.checkIframes()},checkIframes:function(){var e=_sdi.dtm.video.youtube.videos,i=document.querySelectorAll('iframe[src*=\"youtube\"]');if(i.length>0)for(var t=0;t<i.length;t++){var o=i[t],d=o.src;if(o.src.indexOf(\"autoplay=1\")<0){var a=o.src.match(/h?t?t?p?s?\\:?\\/\\/www\\.youtube(-nocookie)?\\.com\\/embed\\/([\\w-]{11})(?:\\?.*)?/),n=a.length>2?a[2]:\"\";if(o.id||(o.id=n),d=o.src,\"https:\"==document.location.protocol&&(d=d.replace(\"http:\",\"https:\")),d.match(/origin/)||\"https:\"!=document.location.protocol){if(d.match(/origin/)){var s=d.split(\"origin=\");s[1];d=s[0]+\"origin=\"+document.location.protocol+\"//\"+document.location.host}}else d=d+(d.indexOf(\"?\")>-1?\"&\":\"?\")+\"origin=\"+document.location.protocol+\"//\"+document.location.host;d.match(/enablejsapi=1/)||(d=d+(d.indexOf(\"?\")>-1?\"&\":\"?\")+\"enablejsapi=1\"),d!==o.src&&(o.src=d),d.match(/enablejsapi=1/)&&(\"undefined\"!=typeof YT&&void 0!==YT.get?(ready=!0,e[n]={},YT.get(o.id)||(_satellite.logger.info('YT: API for iframe ID \"'+o.id+'\" not configured, configuring now',1),e[n].player=new YT.Player(o.id,{events:{onReady:function(){},onStateChange:function(){},videoId:o.id}})),o.setAttribute(\"data-sdi\",\"true\"),_sdi.dtm.video.youtube.timeout=1e3):_sdi.dtm.video.youtube.timeout=100)}}setTimeout((function(){_sdi.dtm.video.youtube.checkIframes()}),_sdi.dtm.video.youtube.timeout)},videos:{}},localStorage.getItem(\"L: env_is3PTDisabled\")?.match(\"false\")?_sdi.dtm.video.youtube.init():_satellite.logger.warn(\"Leo Rule: L: Global Video Tracking -- _sdi.dtm.video.youtube.init() Not run\"),window.addEventListener(\"message\",(function(e){var i={};if(e.origin.match(/youtube\\.com|youtube-nocookie\\.com/)&&\"undefined\"!=typeof JSON){i=\"string\"==typeof e.data?JSON.parse(e.data):{};var t,o,d=ytplayerList,a=_sdi.dtm.video.youtube.sc||{},n={};if(\"infoDelivery\"==i.event){if(i.info.videoData)(n=d[t=i.info.videoData.video_id]||{}).info=i.info,n.info.videoData=i.info.videoData,n.id=i.id,d[t]=n,o=_sdi.dtm.video.youtube.playerName+\"|\"+n.info.videoData.video_id+\"|\"+n.info.videoData.title;else{for(var s in d){var r=d[s];r.id==i.id&&(n=r)}if(n.info&&(o=_sdi.dtm.video.youtube.playerName+\"|\"+n.info.videoData.video_id+\"|\"+n.info.videoData.title,i.info.currentTime)){Math.abs(n.info.duration-i.info.currentTime)>1.5&&!0===a.track&&(a.s().Media.stop(n.info.videoData.title,i.info.currentTime),a.s().Media.play(n.info.videoData.title,n.info.mediaReferenceTime)),i.info.currentTime/n.info.duration*100>=_sdi.dtm.video.youtube.completePercent&&!n.completed&&(n.completed=!0,n.state=\"completed\",!0===a.track?(a.s().Media.stop(o,i.info.currentTime),a.s().Media.close(o)):_sdi.dtm.video.youtube.sendDLPush(\"Media Completed\",n),_satellite.logger.info(\"YT: \"+n.info.videoData.title+\": video complete\",1));var u=_sdi.dtm.video.youtube.milestones||[],m=i.info.currentTime;if(u.length>0){n.milestones=n.milestones||{};for(var l=m/n.info.duration*100,c=0;c<u.length;c++){var f=u[c+1]||100;if(l>u[c]&&l<=f&&!n.milestones[u[c]]){n.milestones[u[c]]=!0,n.currentMilestone=u[c];c>0?u[c]-u[c-1]:u[c],_sdi.dtm.video.youtube.sendDLPush(\"Media Milestone Reached\",n)}}}n.info.currentTime=i.info.currentTime}}if(void 0!==i.info.playerState){for(var v in d){var y=d[v];y.id==i.id&&(n=y)}({title:n.info.videoData.title,duration:n.info.duration,time:n.info.currentTime}),1==i.info.playerState&&(_satellite.logger.info(\"YT: started - \"+n.started),_satellite.logger.info(\"YT: completed - \"+n.completed),!n.started||n.completed?(n.started=!0,n.completed=!1,!0===a.track?(a.s().Media.open(o,n.info.duration,_sdi.dtm.video.youtube.playerName),a.s().Media.play(o,n.info.currentTime)):_sdi.dtm.video.youtube.sendDLPush(\"Media Opened\",n),_satellite.logger.info(\"YT: \"+n.info.videoData.title+\": video start\",1)):(!0===a.track?a.s().Media.play(o,n.info.currentTime):_sdi.dtm.video.youtube.sendDLPush(\"Media Played\",n),_satellite.logger.info(\"YT: \"+n.info.videoData.title+\": video resume at \"+n.info.currentTime,1)),n.state=\"playing\"),2==i.info.playerState&&n.info.duration-n.info.currentTime>1.5&&(!0===a.track?a.s().Media.stop(o,n.info.currentTime):_sdi.dtm.video.youtube.sendDLPush(\"Media Stopped\",n),_satellite.logger.info(\"YT: \"+n.info.videoData.title+\": video pause at \"+n.info.currentTime,1),n.state=\"paused\"),3==i.info.playerState&&n.started&&(!0===a.track?a.s().Media.stop(o,n.info.currentTime):_sdi.dtm.video.youtube.sendDLPush(\"Media Stopped\",n),_satellite.logger.info(\"YT: \"+n.info.videoData.title+\": video buffer/pause at \"+n.info.currentTime,1),n.state=\"paused\")}}}})),localStorage.getItem(\"L: env_is3PTDisabled\")?.match(\"false\")?_sdi.dtm.video.youtube.ready(\"dom\"):_satellite.logger.warn(\"Leo Rule: L: Global Video Tracking -- _sdi.dtm.video.youtube.ready(dom) Not run\");");